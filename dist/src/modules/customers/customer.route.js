import { Router } from "express";
import { auth } from "../../midlleWare/auth.js";
import { endPoints } from "./customer.endpoints.js";
import * as customerRoute from "./controller/customer.controller.js";
import { fileValidation, myMulter, myMulterInsuranceFiles, myMulterAllFiles, } from "../../Servicess/multer.js";
import { checkDepartmentPermission } from "../../midlleWare/checkDepartmentPermission.js";
const customerRouter = Router();
customerRouter.post("/addCustomer", auth(endPoints.addCustomer), myMulterAllFiles("customers/images").single("image"), customerRoute.addCustomer);
customerRouter.delete("/deleteCustomer/:id", auth(endPoints.deleteCustomer), customerRoute.deleteCustomer);
customerRouter.get("/allCustomer", auth(endPoints.allCustomer), customerRoute.allCustomer);
customerRouter.get("/insurances/all", auth(endPoints.allCustomer), customerRoute.getAllVehicleInsurances);
customerRouter.get("/findCustomer/:id", auth(endPoints.findbyidCustomer), customerRoute.showById);
customerRouter.patch("/updateCustomer/:id", auth(endPoints.updateCustomer), myMulterAllFiles("customers/images").single("image"), customerRoute.updateCustomer);
customerRouter.post("/addVehicle/:customerId", auth(endPoints.addcar), myMulter(fileValidation.imag).single("image"), customerRoute.addVehicle);
customerRouter.get("/getCustomerVehicles/:id", auth(endPoints.getCustomerVehicles), customerRoute.getCustomerVehicles);
customerRouter.patch("/updatevic/:customerId/:vehicleId", auth(endPoints.updateCar), customerRoute.updateVehicle);
customerRouter.delete("/del/:customerId/:vehicleId", auth(endPoints.removeCar), customerRoute.removeVehicle);
customerRouter.post("/addInsurance/:customerId/:vehicleId", auth(endPoints.addcar), myMulter(fileValidation.pdf).array("insuranceFiles", 10), customerRoute.addInsuranceToVehicle);
customerRouter.delete("/removeInsuranceFromVehicle/:customerId/:vehicleId/:insuranceId", auth(endPoints.deleteCustomer), customerRoute.removeInsuranceFromVehicle);
customerRouter.get("/get/:customerId/:vehicleId", auth(endPoints.showVehicles), customerRoute.getInsurancesForVehicle);
customerRouter.post("/add/:customerId/:vehicleId/:insuranceId", auth(endPoints.addcar), myMulter(fileValidation.imag).single("checkImage"), customerRoute.addCheckToInsurance);
customerRouter.get("/getCheck/:customerId/:vehicleId/:insuranceId", auth(endPoints.showVehicles), customerRoute.getInsuranceChecks);
customerRouter.get("/getCheckCar/:customerId/:vehicleId", auth(endPoints.showVehicles), customerRoute.getAllChecksForVehicle);
customerRouter.delete("/deleteCheck/:customerId/:vehicleId/:checkId ", auth(endPoints.removeCar), customerRoute.deleteCheckFromInsurance);
customerRouter.get("/get_count", customerRoute.getTotalCustomerCount);
customerRouter.get("/getCustomerByMonth", customerRoute.getCustomerByMonth);
customerRouter.get("/allInsurancesData", auth(endPoints.allCustomer), customerRoute.getAllInsurancesData);
customerRouter.get("/insurances/:customerId", auth(endPoints.getCustomerInsurances), customerRoute.getCustomerInsurances);
customerRouter.post("/addInsurance/:customerId", auth(endPoints.addCustomerInsurance), myMulterInsuranceFiles().array("insuranceFiles", 10), customerRoute.addCustomerInsurance);
customerRouter.get("/allInsurances/:customerId", auth(endPoints.getCustomerInsurances), customerRoute.getAllCustomerInsurances);
customerRouter.get("/insurance/:insuranceId", auth(endPoints.getCustomerInsurances), customerRoute.getInsuranceById);
customerRouter.patch("/insurance/:insuranceId", auth(endPoints.addCustomerInsurance), myMulterInsuranceFiles().array("insuranceFiles", 10), customerRoute.updateInsuranceById);
customerRouter.delete("/insurance/:insuranceId", auth(endPoints.deleteCustomer), customerRoute.deleteInsuranceById);
export default customerRouter;
//# sourceMappingURL=customer.route.js.map